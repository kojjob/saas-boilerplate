<%= form_with model: @account, url: account_path, method: :patch, class: "space-y-5", data: { turbo_frame: "_top" } do |form| %>
  <% if @account.errors.any? %>
    <div class="rounded-lg bg-red-50 p-4 text-sm text-red-700">
      <ul class="list-disc pl-5 space-y-1">
        <% @account.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%# Account Name %>
  <div class="space-y-4">
    <h3 class="text-sm font-medium text-gray-900">Account details</h3>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Account Name</label>
      <%= form.text_field :name,
          class: "w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",
          placeholder: "Your organization name" %>
      <p class="mt-1 text-xs text-gray-500">This is the name of your organization or team.</p>
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-2">Subdomain <span class="text-gray-400 font-normal">(optional)</span></label>
      <div class="flex rounded-lg">
        <%= form.text_field :subdomain,
            class: "flex-1 px-3 py-2 border border-gray-200 rounded-l-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",
            placeholder: "yourcompany" %>
        <span class="inline-flex items-center px-3 py-2 border border-l-0 border-gray-200 bg-gray-50 text-gray-500 rounded-r-lg text-sm">
          .<%= request.domain %>
        </span>
      </div>
      <p class="mt-1 text-xs text-gray-500">Only lowercase letters, numbers, and hyphens allowed.</p>
    </div>
  </div>

  <%# Footer with actions %>
  <div class="flex items-center justify-end gap-3 pt-4 border-t border-gray-100">
    <button type="button"
            data-action="modal#close"
            class="px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors">
      Cancel
    </button>
    <%= form.submit "Save changes",
        class: "px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors cursor-pointer" %>
  </div>
<% end %>
